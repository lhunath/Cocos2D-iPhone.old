
cocos2d for iPhone v0.8 (beta) Release Notes
============================================

WARNING:
 - This is a beta version. It means:
   - Features might be in an incomplete state
   - It has less testing than final versions (more bugs?)
   - The API in this versions is not final


New features
============
  - Touch Dispatcher:
     A singleton that dispatches touches like in v0.7.x or one touch at the time
     Example:
         cocos2d/Menu.m or
         tests/TouchTest/
     cocos2d uses it internally for the menu handling.

  - Particles:
      Support for big particles: particles bigger than 64 pixels
      Support for spinning particles and varying size particles
      Support for Local and World coordinates
      Example:
        tests/ParticleTest.m

  - Box2d physics:
      Box2d, a c++ physics engine was integrated within cocos2d
      http://www.box2d.org/
      Example:
        tests/Box2dTest.mm

  - CocosDenshin sound engine:
      A new sound engine was integrated into cocos2d.
      One of the main features is simplicity and the capacity to play 32 sounds simultaneously.
      Example:
        experimental/CocosDenshion

  - Bitmap fonts:
      A new way to create Labels from TTF fonts
      Example:
        tests/AtlasTest.m


Compatibility issues with v0.7.2 / v0.7.3
=========================================

Deprecated API
==============

All the deprecated functions from v0.7.2 / v0.7.3 were removed.

So, all the changes that were "optional" in v0.7.2 / v0.7.3 are required in v0.8.0

For more information read the following files:
  convert_0_7_0_to_0_7_1.txt
  convert_0_7_1_to_0_7_2.txt


COMPULSORY CHANGES
==================

Director
--------

Director doesn't handle the touches anymore.

[OLD]
    [[Director sharedDirector] setEventsEnabled: state];

[NEW]
    [[TouchDispatcher sharedDispatcher] setDispatchEvents: state];


Textures
--------

a)
    Default blend function is: (GL_ONE, GL_ONE_MINUS_SRC)
    cocos2d takes care if your images is premultiplied or not.
    If you were handling them manually, you should remove that code.
    Also, you can change the blend function manually:
        sprite.blendFunc = (ccBlendFunc) { GL_SRC_ALPHA, GL_ONE };  // additive blending


b) Opacity:
    xxx
    


CocosNode
---------

[OLD]
    // image size is(400,300)
    [node setTransformAnchor: ccp(200,200)];        // absolute pixels

[NEW]
    // image size is(400,300)
    [node setAnchorPoint:ccp( 0.5f, 2/3.0f)];       // relative (1,1) is top-right
                                                    // (0,0) is bottom-left
                                                    // (0.5f, 0.5f) is the middle

    transformAnchor can be read, but cannot be written anymore


Texture2D Alias/AntiAlias
-------------------------

The Alias/AntiAlias API is no longer a class method, but an instance method.

[OLD]:

	// Aliased images
	[Texture2D saveTexParameters];
	[Texture2D setAliasTexParameters];

	TileMapAtlas *tilemap = [TileMapAtlas tileMapAtlasWithTileFile:@"tiles.png" mapFile:@"levelmap.tga" tileWidth:16 tileHeight:16];
	
	[Texture2D restoreTexParameters];


[NEW]

	TileMapAtlas *tilemap = [TileMapAtlas tileMapAtlasWithTileFile:@"tiles.png" mapFile:@"levelmap.tga" tileWidth:16 tileHeight:16];

	// Aliased images
    [tilemap.textureAtlas.texture setAliasTexParameters];


Parallax Scroller
-----------------

(issue #358)

[OLD]

id node = [CocosNode node];
id child1 = [Sprite ...];
[node addChild z:0 parallaxRatio:ccp(ratioX, ratioY)];


[NEW]

id parallax = [ParallaxNode node];          // <-- ParallaxNode is the only one that suports parallax ratio 
id child1 = [Sprite ...];
[node addChild z:0 parallaxRatio:ccp(ratioX, ratioY) positionOffset:ccp(offsetX,offsetY)];



New Files
---------
    BitmapFontAtlas.h
    BitmapFontAtlas.m
    ParticleExamples.h
    ParticleExamples.m
    ParticleSystem.h
    ParticleSystem.m
    PointParticleSystem.h
    PointParticleSystem.m
    QuadParticleSystem.h
    QuadParticleSystem.m
    ParallaxNode.h
    ParallaxNode.m
    TouchDispatcher.h
    TouchDispatcher.m
    TouchHandler.h
    TouchHandler.m
    TouchDelegateProtocol.h


Removed Files
-------------
    Particle.h
    Particle.m
    ParticleSystems.h
    ParticleSystems.m
    CocosNodeExtras.h
    CocosNodeExtras.m



OPTIONAL CHANGES
================

Director
--------

[OLD]
    BOOL b = [[Director sharedDirector] landscape];
    [[Director sharedDirector] setLandscape: YES];
    [[Director sharedDirector] setLandscape: NO];

[NEW]
    ccDeviceOrientation = [[Director sharedDirector] deviceOrientation];
    [[Director sharedDirector] setDviceOrientation: CCDeviceOrientationLandscapeLeft];
    [[Director sharedDirector] setDviceOrientation: CCDeviceOrientationPortrait];
